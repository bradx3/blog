--- 
title: Element.insert, Prototype and named anchors
filters: textile
created_at: 2008-11-25 11:46:11 +11:00
keywords: 
- html
- prototype
---
<p>This was a strange one.</p>

<p>
HTML:
<pre class="code">
&lt;a name="questions" /&gt;
&lt;div class="questions"&gt;
&lt;/div&gt;
</pre>
</p>
<p>
JS:
<pre class="code">
Element.insert("questions", { bottom : "&lt;div&gt;Test&lt;/div&gt;" });
</pre>
</p>
<p>
With that setup, IE compains and says "Invalid source HTML for this operation". It turns out that prototype was trying to put the div into the a tag. I guess I can see how it happened, but I sure didn't expect it. 
</p>
<p>
Anyway I removed the a tag completely and everything works fine. Weird.
</p>